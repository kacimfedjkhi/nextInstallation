{"ast":null,"code":"import { decorate, observable, action } from \"mobx\";\nimport Api from \"../api/index\";\nimport Card from \"../models/Card\";\n\nclass OpenStore {\n  constructor(rootStore) {\n    this.cards = [];\n\n    this.getCards = () => {\n      this.api.getAllCards().then(newCards => {\n        if (newCards.length > 0) {\n          newCards.forEach(newCard => this._addCard(newCard));\n        }\n      });\n    };\n\n    this._addCard = values => {\n      const comment = new Comment(this.rootStore);\n      comment.updateFromServer(values);\n      runInAction(() => this.comments.push(comment));\n    };\n\n    this.rootStore = rootStore;\n    this.api = new Api(`cards`);\n    this.socket = rootStore.uiStore.socket;\n    this.getCards(); //this.socket.on(`getCard`, this.getCards);\n  }\n\n}\n\ndecorate(OpenStore, {\n  cards: observable,\n  getCards: action\n});\nexport default OpenStore;","map":{"version":3,"sources":["/Users/kacimfedjkhi/stack/BAP/DEV/installation/nextInstallation/next-installation/client/src/store/OpenStore.js"],"names":["decorate","observable","action","Api","Card","OpenStore","constructor","rootStore","cards","getCards","api","getAllCards","then","newCards","length","forEach","newCard","_addCard","values","comment","Comment","updateFromServer","runInAction","comments","push","socket","uiStore"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,UAAnB,EAA+BC,MAA/B,QAA6C,MAA7C;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;;AAEA,MAAMC,SAAN,CAAgB;AAGdC,EAAAA,WAAW,CAACC,SAAD,EAAY;AAAA,SAFvBC,KAEuB,GAFf,EAEe;;AAAA,SAQvBC,QARuB,GAQZ,MAAM;AACf,WAAKC,GAAL,CAASC,WAAT,GAAuBC,IAAvB,CAA4BC,QAAQ,IAAI;AACtC,YAAIA,QAAQ,CAACC,MAAT,GAAkB,CAAtB,EAAyB;AACvBD,UAAAA,QAAQ,CAACE,OAAT,CAAiBC,OAAO,IAAI,KAAKC,QAAL,CAAcD,OAAd,CAA5B;AACD;AACF,OAJD;AAKD,KAdsB;;AAAA,SAgBvBC,QAhBuB,GAgBZC,MAAM,IAAI;AACnB,YAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAY,KAAKb,SAAjB,CAAhB;AACAY,MAAAA,OAAO,CAACE,gBAAR,CAAyBH,MAAzB;AACAI,MAAAA,WAAW,CAAC,MAAM,KAAKC,QAAL,CAAcC,IAAd,CAAmBL,OAAnB,CAAP,CAAX;AACD,KApBsB;;AACrB,SAAKZ,SAAL,GAAiBA,SAAjB;AACA,SAAKG,GAAL,GAAW,IAAIP,GAAJ,CAAS,OAAT,CAAX;AACA,SAAKsB,MAAL,GAAclB,SAAS,CAACmB,OAAV,CAAkBD,MAAhC;AACA,SAAKhB,QAAL,GAJqB,CAKrB;AACD;;AATa;;AA0BhBT,QAAQ,CAACK,SAAD,EAAY;AAClBG,EAAAA,KAAK,EAAEP,UADW;AAElBQ,EAAAA,QAAQ,EAAEP;AAFQ,CAAZ,CAAR;AAKA,eAAeG,SAAf","sourcesContent":["import { decorate, observable, action } from \"mobx\";\nimport Api from \"../api/index\";\nimport Card from \"../models/Card\";\n\nclass OpenStore {\n  cards = [];\n\n  constructor(rootStore) {\n    this.rootStore = rootStore;\n    this.api = new Api(`cards`);\n    this.socket = rootStore.uiStore.socket;\n    this.getCards();\n    //this.socket.on(`getCard`, this.getCards);\n  }\n\n  getCards = () => {\n    this.api.getAllCards().then(newCards => {\n      if (newCards.length > 0) {\n        newCards.forEach(newCard => this._addCard(newCard));\n      }\n    });\n  };\n\n  _addCard = values => {\n    const comment = new Comment(this.rootStore);\n    comment.updateFromServer(values);\n    runInAction(() => this.comments.push(comment));\n  }\n}\n\ndecorate(OpenStore, {\n  cards: observable,\n  getCards: action\n});\n\nexport default OpenStore;\n"]},"metadata":{},"sourceType":"module"}
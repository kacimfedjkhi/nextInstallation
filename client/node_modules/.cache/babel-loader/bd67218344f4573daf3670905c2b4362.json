{"ast":null,"code":"var _jsxFileName = \"/Users/kacimfedjkhi/stack/BAP/DEV/installation/nextInstallation/client/src/components/CardElement.jsx\";\nimport React from \"react\";\nimport Draggable from \"react-draggable\";\nimport styled from \"styled-components\";\nimport { withRouter } from \"react-router-dom\";\nimport { ROUTES } from \"../constants/index\";\nimport { observer } from \"mobx-react\";\nimport envelope from \"../assets/img/envelope.png\";\nimport nature from \"../assets/img/envelopes/nature.png\";\nimport news from \"../assets/img/envelopes/news.png\";\nimport art from \"../assets/img/envelopes/art.png\";\nimport culinary from \"../assets/img/envelopes/culinary.png\";\nimport tourism from \"../assets/img/envelopes/tourism.png\";\nimport technology from \"../assets/img/envelopes/technology.png\";\n\nconst CardElement = props => {\n  const getRotation = () => {\n    let rotation = Math.floor(Math.random() * 11);\n    rotation *= Math.floor(Math.random() * 2) === 1 ? 1 : -1;\n    return rotation;\n  };\n\n  let currentX, currentY, newX, newY;\n\n  const handleDragCard = e => {\n    e.target.parentElement.style.zIndex = \"999\";\n  };\n\n  const handleMouseDown = e => {\n    currentX = e.clientX;\n    currentY = e.clientY;\n  };\n\n  const handleMouseUp = e => {\n    newX = e.clientX;\n    newY = e.clientY;\n    console.log(Math.abs(currentX - newX));\n    const changeX = Math.abs(currentX - newX);\n    const changeY = Math.abs(currentY - newY);\n\n    if (changeX > 3 && changeY > 3) {\n      console.log(\"wow drag\");\n    } else {\n      console.log(\"ow click\");\n      props.store.selectedCard = e.currentTarget.id;\n      props.history.push(ROUTES.answer);\n    }\n  };\n\n  const Card = styled.div`\n    width: 40rem;\n    height: 24.9rem;\n    display: inline-block;\n    position: absolute;\n    transform: rotate(${getRotation}deg);\n\n    background-image: url(${envelope});\n    background-size: cover;\n  `;\n  return React.createElement(Draggable, {\n    bounds: \"parent\",\n    axis: \"both\",\n    defaultPosition: {\n      x: props.xPos,\n      y: props.yPos\n    },\n    onDrag: handleDragCard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(CardContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Card, {\n    id: props.data.uniqueId,\n    onMouseDown: e => handleMouseDown(e),\n    onMouseUp: e => handleMouseUp(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, console.log(props.data), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, props.data.theme))));\n};\n\nconst CardContainer = styled.div`\n  position: absolute;\n`;\nexport default withRouter(observer(CardElement));","map":{"version":3,"sources":["/Users/kacimfedjkhi/stack/BAP/DEV/installation/nextInstallation/client/src/components/CardElement.jsx"],"names":["React","Draggable","styled","withRouter","ROUTES","observer","envelope","nature","news","art","culinary","tourism","technology","CardElement","props","getRotation","rotation","Math","floor","random","currentX","currentY","newX","newY","handleDragCard","e","target","parentElement","style","zIndex","handleMouseDown","clientX","clientY","handleMouseUp","console","log","abs","changeX","changeY","store","selectedCard","currentTarget","id","history","push","answer","Card","div","x","xPos","y","yPos","data","uniqueId","theme","CardContainer"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Draggable from \"react-draggable\";\nimport styled from \"styled-components\";\nimport { withRouter } from \"react-router-dom\";\nimport { ROUTES } from \"../constants/index\";\nimport { observer } from \"mobx-react\";\n\nimport envelope from \"../assets/img/envelope.png\";\n\nimport nature from \"../assets/img/envelopes/nature.png\";\nimport news from \"../assets/img/envelopes/news.png\";\nimport art from \"../assets/img/envelopes/art.png\";\nimport culinary from \"../assets/img/envelopes/culinary.png\";\nimport tourism from \"../assets/img/envelopes/tourism.png\";\nimport technology from \"../assets/img/envelopes/technology.png\";\n\nconst CardElement = props => {\n  const getRotation = () => {\n    let rotation = Math.floor(Math.random() * 11);\n    rotation *= Math.floor(Math.random() * 2) === 1 ? 1 : -1;\n\n    return rotation;\n  };\n\n  let currentX, currentY, newX, newY;\n\n  const handleDragCard = e => {\n    e.target.parentElement.style.zIndex = \"999\";\n  };\n\n  const handleMouseDown = e => {\n    currentX = e.clientX;\n    currentY = e.clientY;\n  };\n\n  const handleMouseUp = e => {\n    newX = e.clientX;\n    newY = e.clientY;\n\n    console.log(Math.abs(currentX - newX));\n    const changeX = Math.abs(currentX - newX);\n    const changeY = Math.abs(currentY - newY);\n\n    if (changeX > 3 && changeY > 3) {\n      console.log(\"wow drag\");\n    } else {\n      console.log(\"ow click\");\n\n      props.store.selectedCard = e.currentTarget.id;\n      props.history.push(ROUTES.answer);\n    }\n  };\n\n  const Card = styled.div`\n    width: 40rem;\n    height: 24.9rem;\n    display: inline-block;\n    position: absolute;\n    transform: rotate(${getRotation}deg);\n\n    background-image: url(${envelope});\n    background-size: cover;\n  `;\n\n  return (\n    <Draggable\n      bounds=\"parent\"\n      axis=\"both\"\n      defaultPosition={{ x: props.xPos, y: props.yPos }}\n      onDrag={handleDragCard}\n    >\n      <CardContainer>\n        <Card\n          id={props.data.uniqueId}\n          onMouseDown={e => handleMouseDown(e)}\n          onMouseUp={e => handleMouseUp(e)}\n        >\n          {console.log(props.data)}\n          <p>{props.data.theme}</p>\n        </Card>\n      </CardContainer>\n    </Draggable>\n  );\n};\n\nconst CardContainer = styled.div`\n  position: absolute;\n`;\n\nexport default withRouter(observer(CardElement));\n"]},"metadata":{},"sourceType":"module"}